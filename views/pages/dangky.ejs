<link rel="stylesheet" href="/css/DangKy.css">

<section class="login-container">
  <!-- Bên trái: thông tin -->
  <div class="info-side">
    <h2>Chào mừng đến với hệ thống</h2>
    <p>Đăng ký tài khoản phụ huynh để theo dõi học tập, điểm danh, học phí và nhận thông báo từ nhà trường một cách nhanh chóng và tiện lợi nhất.</p>
    <img src="/images/login-illustration.png" alt="Illustration" class="illustration">
  </div>

  <!-- Bên phải: form đăng ký -->
  <div class="login-side">
    <div class="login-content">
      <h2>Tạo tài khoản phụ huynh</h2>

      <!-- Thông báo lỗi (hiển thị bằng JS) -->
      <div id="error-message" class="error" style="display: none;"></div>

      <form id="register-form" novalidate>
        <!-- Họ tên phụ huynh -->
        <label for="fullName">Họ và tên phụ huynh <span class="required">*</span></label>
        <input type="text" id="fullName" name="fullName" placeholder="Ví dụ: Nguyễn Văn An" required>

        <!-- Số điện thoại (làm username) -->
        <label for="phone">Số điện thoại <span class="required">*</span></label>
        <input type="tel" id="phone" name="phone" placeholder="Ví dụ: 0901234567" maxlength="11" required>

        <!-- Chọn trường -->
        <label>Chọn trường <span class="required">*</span></label>
        <select id="school" class="pick_student" required>
          <option value="">-- Chọn trường --</option>
          <% schools.forEach(school => { %>
            <option value="<%= school.MaTruong %>"><%= school.TenTruong %></option>
          <% }) %>
        </select>

        <!-- Chọn lớp -->
        <label>Chọn lớp học <span class="required">*</span></label>
        <select id="class" class="pick_student" required disabled>
          <option value="">-- Vui lòng chọn trường trước --</option>
        </select>

        <!-- Chọn học sinh (con) -->
        <label>Chọn con bạn <span class="required">*</span></label>
        <select id="student" class="pick_student" name="studentId" required disabled>
          <option value="">-- Vui lòng chọn lớp trước --</option>
        </select>

        <!-- Mật khẩu -->
        <label for="password">Mật khẩu <span class="required">*</span></label>
        <input type="password" id="password" name="password" placeholder="Tối thiểu 6 ký tự" minlength="6" required>

        <!-- Xác nhận mật khẩu -->
        <label for="confirmPassword">Xác nhận mật khẩu <span class="required">*</span></label>
        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Nhập lại mật khẩu" required>

        <button type="submit" class="btn login-btn">
          Đăng ký ngay
        </button>
      </form>

      <div class="links">
        <a href="/">Đã có tài khoản? Đăng nhập ngay</a>
      </div>
    </div>
  </div>
</section>

<!-- Popup thành công -->
<div id="success-popup" class="popup-overlay">
  <div class="popup-content">
    <h3>Đăng ký thành công!</h3>
    <p>Chúc mừng bạn đã tạo tài khoản phụ huynh thành công.</p>
    <p>Bây giờ bạn có thể đăng nhập để theo dõi việc học của con.</p>
    <button id="confirm-btn" class="btn">Đi đến trang đăng nhập</button>
  </div>
</div>

<!-- JS xử lý toàn bộ -->
<script src="/js/DangKy.js"></script>

<!-- Thêm chút CSS inline nhẹ để đẹp hơn (không cần sửa file CSS cũ) -->
<style>
  .required { color: #ff6b6b; font-weight: bold; }
  select, input {
    margin-bottom: 16px !important;
  }
  #error-message {
    background: rgba(255, 107, 107, 0.15);
    border: 1px solid #ff6b6b;
    padding: 10px;
    border-radius: 6px;
    margin-bottom: 15px;
    text-align: center;
    font-weight: 500;
  }
</style>